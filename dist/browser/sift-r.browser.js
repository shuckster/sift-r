/*
 * sift-r
 * v1.2.1
 * https://github.com/shuckster/sift-r
 * License: MIT
 */
var siftr=(()=>{var v=Object.defineProperty,_=Object.defineProperties,$=Object.getOwnPropertyDescriptor,Y=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var F=(e,s,t)=>s in e?v(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,g=(e,s)=>{for(var t in s||(s={}))M.call(s,t)&&F(e,t,s[t]);if(D)for(var t of D(s))K.call(s,t)&&F(e,t,s[t]);return e},f=(e,s)=>_(e,Y(s));var W=(e,s)=>{for(var t in s)v(e,t,{get:s[t],enumerable:!0})},ee=(e,s,t,r)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of V(s))!M.call(e,a)&&a!==t&&v(e,a,{get:()=>s[a],enumerable:!(r=$(s,a))||r.enumerable});return e};var se=e=>ee(v({},"__esModule",{value:!0}),e);var ts={};W(ts,{sift:()=>_e});var d={};W(d,{against:()=>G,allOf:()=>J,anyOf:()=>H,cata:()=>qe,defined:()=>Ee,empty:()=>L,endsWith:()=>Me,every:()=>Pe,falsy:()=>Ce,firstOf:()=>Ne,gt:()=>Se,gte:()=>Re,hasOwn:()=>Te,inRange:()=>De,includedIn:()=>Ie,includes:()=>We,instanceOf:()=>me,isArray:()=>y,isDate:()=>Oe,isFunction:()=>u,isNumber:()=>C,isPojo:()=>A,isRegExp:()=>w,isString:()=>m,lastOf:()=>we,lt:()=>ke,lte:()=>Be,match:()=>be,not:()=>Ae,otherwise:()=>de,pluck:()=>pe,some:()=>xe,spread:()=>Ge,startsWith:()=>Fe,truthy:()=>ze,when:()=>je});var te=Object.defineProperty,I=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,ne=(e,s)=>{var t={};for(var r in e)re.call(e,r)&&s.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&I)for(var r of I(e))s.indexOf(r)<0&&ae.call(e,r)&&(t[r]=e[r]);return t},ie=(e,s)=>{for(var t in s)te(e,t,{get:s[t],enumerable:!0})},x={};ie(x,{instanceOf:()=>N,isArguments:()=>q,isArray:()=>oe,isDate:()=>le,isFunction:()=>ue,isNumber:()=>fe,isObject:()=>z,isPojo:()=>he,isRegExp:()=>ye,isString:()=>ge});var T=Object.prototype,ce=T.toString,p=e=>s=>typeof s===e,N=e=>s=>s instanceof e,{isArray:oe}=Array,q=e=>ce.call(e)==="[object Arguments]",le=e=>N(Date)(e)&&!isNaN(e),ue=p("function"),ge=p("string"),fe=e=>e===e&&p("number")(e),z=e=>e!==null&&p("object")(e),ye=N(RegExp),he=e=>e===null||!z(e)||q(e)?!1:Object.getPrototypeOf(e)===T,{isArray:y,isDate:Oe,isFunction:u,isNumber:C}=x,{isPojo:A,isRegExp:w,isString:m,instanceOf:me}=x;function be(e){return(...s)=>G(...s)(e)}var G=(...e)=>{let s;return t=>e.find(r=>{let a=r(t),{matched:n,value:c}=a||{};return[n,c].every(u)?n(t)&&(s=c(t),!0):a&&(s=a)})&&s},de=e=>s=>({matched:()=>!0,value:()=>u(e)?e(s):e}),P=e=>s=>t=>({matched:()=>o(e,t,r=>t=r),value:()=>u(s)?m(t)&&w(e)?s(...ve(t.match(e))):s(t):s}),je=(...e)=>{if(e.length===1){let[s]=e;return P(s)}if(e.length===2){let[s,t]=e;return P(s)(t)}if(e.length>2){let s=e.slice(-1)[0],t=e.slice(0,-1);return P(J(t))(s)}throw new Error("expected 1 or 2 arguments")},ve=e=>{let{groups:s}=e;return s?[s,e]:[e]},o=(e,s,t)=>A(e)?Object.keys(e).every(r=>o(e[r],s==null?void 0:s[r],t)):y(e)?y(s)&&e.length===s.length&&e.every((r,a)=>o(r,s==null?void 0:s[a],t)):u(e)?e(s,t):m(s)&&w(e)?e.test(s):e===s||[e,s].every(Number.isNaN),pe=(...e)=>(s,t)=>e.length===0||(u(e[0])?e[0](s):o(e[0],s,t))?(t(s),!0):!1,Ae=e=>(s,t)=>!o(e,s,t),H=(...e)=>(s,t)=>e.flat().some(r=>o(r,s,t)),J=(...e)=>(s,t)=>e.flat().every(r=>o(r,s,t)),Pe=e=>U(s=>s.every(t=>o(e,t))),xe=e=>U(s=>s.some(t=>o(e,t))),Ne=(...e)=>E((s,t)=>e.length<=s.length&&o(e,s.slice(0,e.length),t)),we=(...e)=>E((s,t)=>e.length<=s.length&&o(e,s.slice(s.length-e.length),t)),L=e=>e!==e||!e&&e!==0&&e!==!1||y(e)&&!e.length||A(e)&&!Object.keys(e).length,Ee=e=>!L(e),Se=e=>b(s=>s>e),ke=e=>b(s=>s<e),Re=e=>b(s=>s>=e),Be=e=>b(s=>s<=e),De=(e,s)=>b(t=>t>=Math.min(e,s)&&t<=Math.max(e,s)),Fe=e=>Q(s=>s.startsWith(e)),Me=e=>Q(s=>s.endsWith(e)),We=e=>E(s=>s.includes(e)),Ie=H,Te=(...e)=>s=>A(s)&&(([t,r])=>t.length&&t.every(a=>r.includes(a)))([e.flat(),Object.keys(s)]),qe=e=>{var s=e,{getValue:t}=s,r=ne(s,["getValue"]);return Object.entries(r).reduce((a,[n,c])=>Object.assign(a,{[n]:O=>B=>({matched:()=>c(B),value:()=>u(O)?O(t(B)):O})}),{})},ze=e=>!!e,Ce=e=>!e,Ge=e=>new Proxy({},{get:()=>e}),Q=e=>s=>m(s)&&e(s),b=e=>s=>C(s)&&e(s),U=e=>(s,t)=>y(s)&&e(s,t),E=e=>(s,t)=>(y(s)||m(s))&&e(s,t);var{match:S,against:X,when:i,otherwise:j}=d,{not:He,allOf:Je,firstOf:Le,gte:Qe}=d,{isArray:l,isPojo:h,isFunction:Ue,isString:Xe}=d,Z=e=>l(e)&&e.every(l)&&e.every(s=>s.length===2),Ze=e=>h(e)&&Z(Object.values(e));function _e(e,...s){return S([e,...s])(i([Ze])(Ke),i([h,h])(R),i([h,Ue])(es),i([h,l])(ss),i([Z])($e),i([l,l])(k),i([l,He(l)])(Ye),i(Je(Le(l),{length:Qe(2)}))(Ve),i([h])(([t])=>[{},t]),i([l])(([t])=>[[],t]),j(([t])=>[void 0,t]))}var k=([e,s])=>e.reduce(([t,r],a,n)=>S(a)(i(s[n])(()=>[[...t,a],r]),j(()=>[t,[...r,a]])),[[],[]]),$e=([e])=>k(e.reduce(([s,t],[r,a])=>[[...s,a],[...t,r]],[[],[]])),Ye=([e,s])=>k([e,Array.from({length:e.length}).fill(s)]),Ve=([e,...s])=>{let t=Array.from({length:s.length}).map(()=>[]),r=[];return e.forEach(X(...s.map((n,c)=>i(n)(a(t[c]))),j(a(r)))),[...t,r];function a(n){return c=>n.push(c)}},R=([e,s])=>Object.entries(e).reduce(([t,r],[a,n])=>S(n)(i(s[a])(()=>[f(g({},t),{[a]:n}),r]),j(()=>[t,f(g({},r),{[a]:n})])),[{},{}]),Ke=([e])=>R(Object.entries(e).reduce(([s,t],[r,[a,n]])=>[f(g({},s),{[r]:n}),f(g({},t),{[r]:a})],[{},{}])),es=([e,s])=>R([e,Object.keys(e).reduce((t,r)=>f(g({},t),{[r]:s}),{})]),ss=([e,s])=>{let t=Array.from({length:s.length}).map(()=>({})),r={};return Object.entries(e).forEach(X(...s.map((n,c)=>i([Xe,n])(a(t[c]))),j(a(r)))),[...t,r];function a(n){return([c,O])=>Object.assign(n,{[c]:O})}};return se(ts);})();
