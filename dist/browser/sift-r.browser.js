/*
 * sift-r
 * v1.3.1
 * https://github.com/shuckster/sift-r
 * License: MIT
 */
var siftr=(()=>{var j=Object.defineProperty,V=Object.defineProperties,Y=Object.getOwnPropertyDescriptor,K=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertyNames,M=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var W=(e,s,t)=>s in e?j(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,g=(e,s)=>{for(var t in s||(s={}))I.call(s,t)&&W(e,t,s[t]);if(M)for(var t of M(s))se.call(s,t)&&W(e,t,s[t]);return e},f=(e,s)=>V(e,K(s));var T=(e,s)=>{for(var t in s)j(e,t,{get:s[t],enumerable:!0})},te=(e,s,t,r)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of ee(s))!I.call(e,a)&&a!==t&&j(e,a,{get:()=>s[a],enumerable:!(r=Y(s,a))||r.enumerable});return e};var re=e=>te(j({},"__esModule",{value:!0}),e);var as={};T(as,{byPattern:()=>Ve,sift:()=>$e});var v={};T(v,{against:()=>J,allOf:()=>Q,anyOf:()=>L,cata:()=>Ce,defined:()=>ke,empty:()=>U,endsWith:()=>Ie,every:()=>Ne,falsy:()=>He,firstOf:()=>Ee,gt:()=>Re,gte:()=>De,hasOwn:()=>ze,inRange:()=>Me,includedIn:()=>qe,includes:()=>Te,instanceOf:()=>be,isArray:()=>y,isDate:()=>de,isFunction:()=>u,isNumber:()=>H,isPojo:()=>A,isRegExp:()=>w,isString:()=>d,lastOf:()=>Se,lt:()=>Be,lte:()=>Fe,match:()=>ve,not:()=>xe,otherwise:()=>je,pluck:()=>Pe,some:()=>we,spread:()=>Je,startsWith:()=>We,truthy:()=>Ge,when:()=>pe});var ae=Object.defineProperty,q=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,ce=(e,s)=>{var t={};for(var r in e)ne.call(e,r)&&s.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&q)for(var r of q(e))s.indexOf(r)<0&&ie.call(e,r)&&(t[r]=e[r]);return t},oe=(e,s)=>{for(var t in s)ae(e,t,{get:s[t],enumerable:!0})},x={};oe(x,{instanceOf:()=>N,isArguments:()=>C,isArray:()=>ue,isDate:()=>ge,isFunction:()=>fe,isNumber:()=>he,isObject:()=>G,isPojo:()=>me,isRegExp:()=>Oe,isString:()=>ye});var z=Object.prototype,le=z.toString,p=e=>s=>typeof s===e,N=e=>s=>s instanceof e,{isArray:ue}=Array,C=e=>le.call(e)==="[object Arguments]",ge=e=>N(Date)(e)&&!isNaN(e),fe=p("function"),ye=p("string"),he=e=>e===e&&p("number")(e),G=e=>e!==null&&p("object")(e),Oe=N(RegExp),me=e=>e===null||!G(e)||C(e)?!1:Object.getPrototypeOf(e)===z,{isArray:y,isDate:de,isFunction:u,isNumber:H}=x,{isPojo:A,isRegExp:w,isString:d,instanceOf:be}=x;function ve(e){return(...s)=>J(...s)(e)}var J=(...e)=>{let s;return t=>e.find(r=>{let a=r(t),{matched:n,value:c}=a||{};return[n,c].every(u)?n(t)&&(s=c(t),!0):a&&(s=a)})&&s},je=e=>s=>({matched:()=>!0,value:()=>u(e)?e(s):e}),P=e=>s=>t=>({matched:()=>o(e,t,r=>t=r),value:()=>u(s)?d(t)&&w(e)?s(...Ae(t.match(e))):s(t):s}),pe=(...e)=>{if(e.length===1){let[s]=e;return P(s)}if(e.length===2){let[s,t]=e;return P(s)(t)}if(e.length>2){let s=e.slice(-1)[0],t=e.slice(0,-1);return P(Q(t))(s)}throw new Error("expected 1 or 2 arguments")},Ae=e=>{let{groups:s}=e;return s?[s,e]:[e]},o=(e,s,t)=>A(e)?Object.keys(e).every(r=>o(e[r],s==null?void 0:s[r],t)):y(e)?y(s)&&e.length===s.length&&e.every((r,a)=>o(r,s==null?void 0:s[a],t)):u(e)?e(s,t):d(s)&&w(e)?e.test(s):e===s||[e,s].every(Number.isNaN),Pe=(...e)=>(s,t)=>e.length===0||(u(e[0])?e[0](s):o(e[0],s,t))?(t(s),!0):!1,xe=e=>(s,t)=>!o(e,s,t),L=(...e)=>(s,t)=>e.flat().some(r=>o(r,s,t)),Q=(...e)=>(s,t)=>e.flat().every(r=>o(r,s,t)),Ne=e=>Z(s=>s.every(t=>o(e,t))),we=e=>Z(s=>s.some(t=>o(e,t))),Ee=(...e)=>E((s,t)=>e.length<=s.length&&o(e,s.slice(0,e.length),t)),Se=(...e)=>E((s,t)=>e.length<=s.length&&o(e,s.slice(s.length-e.length),t)),U=e=>e!==e||!e&&e!==0&&e!==!1||y(e)&&!e.length||A(e)&&!Object.keys(e).length,ke=e=>!U(e),Re=e=>b(s=>s>e),Be=e=>b(s=>s<e),De=e=>b(s=>s>=e),Fe=e=>b(s=>s<=e),Me=(e,s)=>b(t=>t>=Math.min(e,s)&&t<=Math.max(e,s)),We=e=>X(s=>s.startsWith(e)),Ie=e=>X(s=>s.endsWith(e)),Te=e=>E(s=>s.includes(e)),qe=L,ze=(...e)=>s=>A(s)&&(([t,r])=>t.length&&t.every(a=>r.includes(a)))([e.flat(),Object.keys(s)]),Ce=e=>{var s=e,{getValue:t}=s,r=ce(s,["getValue"]);return Object.entries(r).reduce((a,[n,c])=>Object.assign(a,{[n]:m=>F=>({matched:()=>c(F),value:()=>u(m)?m(t(F)):m})}),{})},Ge=e=>!!e,He=e=>!e,Je=e=>new Proxy({},{get:()=>e}),X=e=>s=>d(s)&&e(s),b=e=>s=>H(s)&&e(s),Z=e=>(s,t)=>y(s)&&e(s,t),E=e=>(s,t)=>(y(s)||d(s))&&e(s,t);var{match:S,against:k,when:i,otherwise:O}=v,{not:Le,allOf:R,firstOf:Qe,every:_,gte:Ue}=v,{isArray:l,isPojo:h,isFunction:Xe,isString:Ze}=v,$=R(l,_(l),_({length:2})),_e=R(h,e=>$(Object.values(e)));function $e(e,...s){return S([e,...s])(i([_e])(ss),i([h,h])(D),i([h,Xe])(ts),i([h,l])(rs),i([$])(Ye),i([l,l])(B),i([l,Le(l)])(Ke),i(R(Qe(l),{length:Ue(2)}))(es),i([h])(([t])=>[{},t]),i([l])(([t])=>[[],t]),O(([t])=>[void 0,t]))}var Ve=e=>k(i(e,s=>s),O(void 0)),B=([e,s])=>e.reduce(([t,r],a,n)=>S(a)(i(s[n])(c=>[[...t,c],r]),O(()=>[t,[...r,a]])),[[],[]]),Ye=([e])=>B(e.reduce(([s,t],[r,a])=>[[...s,a],[...t,r]],[[],[]])),Ke=([e,s])=>B([e,Array.from({length:e.length}).fill(s)]),es=([e,...s])=>{let t=Array.from({length:s.length}).map(()=>[]),r=[];return e.forEach(k(...s.map((n,c)=>i(n)(a(t[c]))),O(a(r)))),[...t,r];function a(n){return c=>n.push(c)}},D=([e,s])=>Object.entries(e).reduce(([t,r],[a,n])=>S(n)(i(s[a])(()=>[f(g({},t),{[a]:n}),r]),O(()=>[t,f(g({},r),{[a]:n})])),[{},{}]),ss=([e])=>D(Object.entries(e).reduce(([s,t],[r,[a,n]])=>[f(g({},s),{[r]:n}),f(g({},t),{[r]:a})],[{},{}])),ts=([e,s])=>D([e,Object.keys(e).reduce((t,r)=>f(g({},t),{[r]:s}),{})]),rs=([e,s])=>{let t=Array.from({length:s.length}).map(()=>({})),r={};return Object.entries(e).forEach(k(...s.map((n,c)=>i([Ze,n])(a(t[c]))),O(a(r)))),[...t,r];function a(n){return([c,m])=>Object.assign(n,{[c]:m})}};return re(as);})();
