/*
 * sift-r
 * v1.0.0
 * https://github.com/shuckster/sift-r
 * License: MIT
 */
var siftr=(()=>{var b=Object.defineProperty,M=Object.defineProperties,Q=Object.getOwnPropertyDescriptor,U=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertyNames,B=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var E=(e,s,r)=>s in e?b(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,y=(e,s)=>{for(var r in s||(s={}))W.call(s,r)&&E(e,r,s[r]);if(B)for(var r of B(s))Y.call(s,r)&&E(e,r,s[r]);return e},f=(e,s)=>M(e,U(s)),Z=e=>b(e,"__esModule",{value:!0});var R=(e,s)=>{for(var r in s)b(e,r,{get:s[r],enumerable:!0})},_=(e,s,r,a)=>{if(s&&typeof s=="object"||typeof s=="function")for(let t of X(s))!W.call(e,t)&&(r||t!=="default")&&b(e,t,{get:()=>s[t],enumerable:!(a=Q(s,t))||a.enumerable});return e};var $=(e=>(s,r)=>e&&e.get(s)||(r=_(Z({}),s,1),e&&e.set(s,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var Te={};R(Te,{sift:()=>Ee});var m={};R(m,{against:()=>T,allOf:()=>le,anyOf:()=>q,cata:()=>pe,defined:()=>ue,empty:()=>z,endsWith:()=>je,falsy:()=>Pe,gt:()=>ye,gte:()=>ge,hasOwn:()=>ve,inRange:()=>Oe,includedIn:()=>be,includes:()=>me,instanceOf:()=>P,isArray:()=>O,isDate:()=>se,isFunction:()=>u,isNumber:()=>I,isPojo:()=>p,isRegExp:()=>w,isString:()=>d,lt:()=>fe,lte:()=>he,match:()=>ae,not:()=>oe,otherwise:()=>te,pluck:()=>ce,spread:()=>we,startsWith:()=>de,truthy:()=>Ae,when:()=>ne});var D=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,V=(e,s)=>{var r={};for(var a in e)J.call(e,a)&&s.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&D)for(var a of D(e))s.indexOf(a)<0&&L.call(e,a)&&(r[a]=e[a]);return r},F=Object.prototype,K=F.toString,v=e=>s=>typeof s===e,P=e=>s=>s instanceof e,{isArray:O}=Array,ee=e=>K.call(e)==="[object Arguments]",se=e=>P(Date)(e)&&!isNaN(e),u=v("function"),d=v("string"),I=e=>e===e&&v("number")(e),re=e=>e!==null&&v("object")(e),w=P(RegExp),p=e=>e===null||!re(e)||ee(e)?!1:Object.getPrototypeOf(e)===F;function ae(e){return(...s)=>T(...s)(e)}var T=(...e)=>{let s;return r=>e.find(a=>{let t=a(r),{matched:n,value:c}=t||{};return[n,c].every(u)?n(r)&&(s=c(r),!0):t&&(s=t)})&&s},te=e=>s=>({matched:()=>!0,value:()=>u(e)?e(s):e}),ne=e=>s=>r=>({matched:()=>l(e,r,a=>r=a),value:()=>u(s)?d(r)&&w(e)?s(...ie(r.match(e))):s(r):s}),ie=e=>{let{groups:s}=e;return s?[s,e]:[e]},l=(e,s,r)=>p(e)?Object.keys(e).every(a=>l(e[a],s==null?void 0:s[a],r)):O(e)?O(s)?e.length===s.length&&e.every((a,t)=>l(a,s==null?void 0:s[t],r)):e.some(a=>l(a,s,r)):u(e)?e(s,r):d(s)&&w(e)?e.test(s):e===s||[e,s].every(Number.isNaN),ce=(...e)=>(s,r)=>e.length===0||(u(e[0])?e[0](s):l(e[0],s,r))?(r(s),!0):!1,oe=e=>(s,r)=>!l(e,s,r),q=(...e)=>e.flat(),le=(...e)=>(s,r)=>e.flat().every(a=>l(a,s,r)),z=e=>e!==e||!e&&e!==0&&e!==!1||O(e)&&!e.length||p(e)&&!Object.keys(e).length,ue=e=>!z(e),ye=e=>j(s=>s>e),fe=e=>j(s=>s<e),ge=e=>j(s=>s>=e),he=e=>j(s=>s<=e),Oe=(e,s)=>j(r=>r>=e&&r<=s),de=e=>C(s=>s.startsWith(e)),je=e=>C(s=>s.endsWith(e)),me=e=>xe(s=>s.includes(e)),be=q,ve=(...e)=>s=>p(s)&&(([r,a])=>r.length&&r.every(t=>a.includes(t)))([e.flat(),Object.keys(s)]),pe=e=>{var s=e,{getValue:r}=s,a=V(s,["getValue"]);return Object.entries(a).reduce((t,[n,c])=>Object.assign(t,{[n]:h=>S=>({matched:()=>c(S),value:()=>u(h)?h(r(S)):h})}),{})},Ae=e=>!!e,Pe=e=>!e,we=e=>new Proxy({},{get:()=>e}),C=e=>s=>d(s)&&e(s),j=e=>s=>I(s)&&e(s),xe=e=>s=>(O(s)||d(s))&&e(s);var{match:x,against:Ne,when:i,otherwise:A}=m,{not:ke}=m,{isArray:o,isPojo:g,isFunction:G,isString:Se}=m,H=e=>o(e)&&e.every(o)&&e.every(s=>s.length===2)&&e.every(s=>G(s[0])),Be=e=>g(e)&&H(Object.values(e));function Ee(e,s){return x(s?[e,s]:[e])(i([Be])(De),i([g,g])(k),i([g,G])(Fe),i([g,o])(Ie),i([H])(We),i([o,o])(N),i([o,ke(o)])(Re),i([g])(([r])=>[{},r]),i([o])(([r])=>[[],r]),A(([r])=>[void 0,r]))}var N=([e,s])=>e.reduce(([r,a],t,n)=>x(t)(i(s[n])(()=>[[...r,t],a]),A(()=>[r,[...a,t]])),[[],[]]),We=([e])=>N(e.reduce(([s,r],[a,t])=>[[...s,t],[...r,a]],[[],[]])),Re=([e,s])=>N([e,Array.from({length:e.length}).fill(s)]),k=([e,s])=>Object.entries(e).reduce(([r,a],[t,n])=>x(n)(i(s[t])(()=>[f(y({},r),{[t]:n}),a]),A(()=>[r,f(y({},a),{[t]:n})])),[{},{}]),De=([e])=>k(Object.entries(e).reduce(([s,r],[a,[t,n]])=>[f(y({},s),{[a]:n}),f(y({},r),{[a]:t})],[{},{}])),Fe=([e,s])=>k([e,Object.keys(e).reduce((r,a)=>f(y({},r),{[a]:s}),{})]),Ie=([e,s])=>{let r=Array.from({length:s.length}).map(()=>({})),a={};return Object.entries(e).forEach(Ne(...s.map((n,c)=>i([Se,n])(t(r[c]))),A(t(a)))),[...r,a];function t(n){return([c,h])=>Object.assign(n,{[c]:h})}};return $(Te);})();
